import{a as X}from"./chunk-J4HATKK5.js";import{c as O}from"./chunk-XAHKM5NF.js";import{c as j,e as R,f as W,i as Q,k as q,m as G,q as H,r as U,s as J,w as K}from"./chunk-WDQRD4KS.js";import{h as D}from"./chunk-G7EGHA34.js";import{Ea as k,La as p,Pa as B,Qa as F,Ra as i,Sa as a,Ta as _,Ua as z,V as T,X as M,Xa as u,Ya as S,ab as o,bb as d,cb as h,db as N,ea as w,eb as I,fa as y,fb as L,ga as P,gb as A,ha as V,ib as C,jb as f,kb as l,lb as m,ya as s}from"./chunk-EK42WQS7.js";var $=(g,t)=>t._id;function ee(g,t){if(g&1){let e=z();i(0,"div")(1,"div",14),u("click",function(){let r=w(e).$implicit,c=S();return y(c.onMessageClick(r))}),i(2,"p",15),o(3),a(),i(4,"p",16),o(5),a(),i(6,"p",17),o(7),a(),i(8,"p",18),o(9),a(),i(10,"span",19),P(),i(11,"svg",20),u("click",function(){let r=w(e).$implicit,c=S();return y(c.deleteMessage(r))}),_(12,"path",21),a()()()()}if(g&2){let e=t.$implicit;s(),p("ngClass",e.read?"read":"unread"),s(2),d(e.email),s(2),d(e.phone),s(2),d(e.name),s(2),d(e.message)}}var v=class g{messages=k([]);pageMessages=k([]);totalPages=1;currentPage=1;itemsPerPage=3;sortCriteria;searchQuery;messageService=T(X);ngOnInit(){this.loadMessages()}loadMessages(){this.messageService.getMessages().subscribe({next:t=>{this.messages.set(t),this.updatePagination()},error:t=>console.error(t)})}previousPage(){this.currentPage>1&&(this.currentPage--,this.updatePageMessages())}nextPage(){this.currentPage<this.totalPages&&(this.currentPage++,this.updatePageMessages())}deleteMessage(t){this.messageService.deleteMessage(t._id).subscribe({next:()=>{this.messages.set(this.messages().filter(e=>e._id!==t._id)),this.updatePagination()},error:e=>console.error(e)})}onMessageClick(t){t.read=!t.read;let e=t.read?"updateMessageAsRead":"updateMessageAsUnread";this.messageService[e](t._id).subscribe()}onSort(){let t=this.sortCriteria;this.pageMessages.update(e=>e.sort((n,r)=>t==="name"?n.name.localeCompare(r.name):t==="email"?n.email.localeCompare(r.email):t==="date"?n.createdAt.localeCompare(r.createdAt):0))}onSearch(){let t=this.searchQuery.toLowerCase(),e=this.messages().filter(n=>["name","email","phone","message"].some(r=>n[r].toLowerCase().includes(t)));this.updatePagination(e)}updatePagination(t=this.messages()){this.totalPages=Math.ceil(t.length/this.itemsPerPage),this.updatePageMessages(t)}updatePageMessages(t=this.messages()){let e=(this.currentPage-1)*this.itemsPerPage,n=this.currentPage*this.itemsPerPage;this.pageMessages.set(t.slice(e,n))}showMessages(){return this.pageMessages().length>0}static \u0275fac=function(e){return new(e||g)};static \u0275cmp=M({type:g,selectors:[["app-messages"]],standalone:!0,features:[C],decls:30,vars:21,consts:[[1,"messages"],[1,"search-sort-bar"],["type","text","j.","","placeholdermm","Search message...",3,"ngModelChange","input","ngModel"],[1,"sort"],[3,"ngModelChange","change","ngModel"],["value","name"],["value","email"],["value","date"],[1,"message-list"],["dir","ltr",1,"pagination-controls"],[3,"click","disabled"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","viewBox","0 0 20 20"],["fill","#25282B","d","m4 10l9 9l1.4-1.5L7 10l7.4-7.5L13 1z"],["fill","#25282B","d","M7 1L5.6 2.5L13 10l-7.4 7.5L7 19l9-9z"],[1,"message-item",3,"click","ngClass"],[1,"email"],[1,"phone"],[1,"name"],[1,"message"],[1,"delete"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24",3,"click"],["fill","#000","d","M7 21q-.825 0-1.412-.587T5 19V6H4V4h5V3h6v1h5v2h-1v13q0 .825-.587 1.413T17 21zm2-4h2V8H9zm4 0h2V8h-2z"]],template:function(e,n){e&1&&(i(0,"div",0)(1,"div",1)(2,"input",2),A("ngModelChange",function(c){return L(n.searchQuery,c)||(n.searchQuery=c),c}),u("input",function(){return n.onSearch()}),a(),i(3,"div",3)(4,"p"),o(5,"Sort By"),a(),i(6,"select",4),A("ngModelChange",function(c){return L(n.sortCriteria,c)||(n.sortCriteria=c),c}),u("change",function(){return n.onSort()}),i(7,"option",5),o(8),l(9,"translate"),a(),i(10,"option",6),o(11),l(12,"translate"),a(),i(13,"option",7),o(14),l(15,"translate"),a()()()(),i(16,"div",8),B(17,ee,13,5,"div",null,$),a(),i(19,"div",9)(20,"button",10),u("click",function(){return n.previousPage()}),P(),i(21,"svg",11),_(22,"path",12),a()(),V(),i(23,"span"),o(24),l(25,"translate"),l(26,"translate"),a(),i(27,"button",10),u("click",function(){return n.nextPage()}),P(),i(28,"svg",11),_(29,"path",13),a()()()()),e&2&&(s(2),I("ngModel",n.searchQuery),s(4),I("ngModel",n.sortCriteria),s(2),d(m(9,11,"Name")),s(3),d(m(12,13,"Email")),s(3),d(m(15,15,"Date")),s(3),F(n.pageMessages()),s(3),p("disabled",n.currentPage===1),s(4),N("",m(25,17,"Page")," ",n.currentPage," ",m(26,19,"of")," ",n.totalPages,""),s(3),p("disabled",n.currentPage===n.totalPages))},dependencies:[D,K,U,J,Q,H,q,G,O],styles:["[_nghost-%COMP%]{width:100%}.messages[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;padding-block:1rem;padding-inline:1rem;background-color:var(--white);box-shadow:0 2px 4px #ccc;width:100%}.messages[_ngcontent-%COMP%]   .search-sort-bar[_ngcontent-%COMP%]{display:flex;gap:10px;align-items:center;margin:auto;max-width:600px;width:100%}.messages[_ngcontent-%COMP%]   .search-sort-bar[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{caret-color:var(--primary);width:100%;height:40px;border-radius:10px;padding-inline:1rem;font-size:.8rem;border:1px solid var(--grey);transition:all .2s ease-in-out}.messages[_ngcontent-%COMP%]   .search-sort-bar[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary);transition:all .2s ease-in-out}.messages[_ngcontent-%COMP%]   .search-sort-bar[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]:hover{border-color:var(--text-light);transition:all .2s ease-in-out}.messages[_ngcontent-%COMP%]   .search-sort-bar[_ngcontent-%COMP%]   .sort[_ngcontent-%COMP%]{display:flex;gap:10px;align-items:center}.messages[_ngcontent-%COMP%]   .search-sort-bar[_ngcontent-%COMP%]   .sort[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{white-space:nowrap}.messages[_ngcontent-%COMP%]   .search-sort-bar[_ngcontent-%COMP%]   .sort[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{height:40px;border-radius:10px;padding-inline:1rem;min-width:3rem;font-size:.8rem;border:1px solid var(--grey);transition:all .2s ease-in-out}.messages[_ngcontent-%COMP%]   .search-sort-bar[_ngcontent-%COMP%]   .sort[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary);transition:all .2s ease-in-out}.messages[_ngcontent-%COMP%]   .search-sort-bar[_ngcontent-%COMP%]   .sort[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:hover{border-color:var(--text-light);transition:all .2s ease-in-out}.messages[_ngcontent-%COMP%]   .message-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.messages[_ngcontent-%COMP%]   .message-list[_ngcontent-%COMP%]   .message-item[_ngcontent-%COMP%]{padding:15px;border:1px solid #ddd;border-radius:4px;background-color:#fff;cursor:pointer;position:relative;transition:background-color .3s}.messages[_ngcontent-%COMP%]   .message-list[_ngcontent-%COMP%]   .message-item.read[_ngcontent-%COMP%]{color:var(--text)}.messages[_ngcontent-%COMP%]   .message-list[_ngcontent-%COMP%]   .message-item.unread[_ngcontent-%COMP%]{color:var(--white);background-color:var(--blue)}.messages[_ngcontent-%COMP%]   .message-list[_ngcontent-%COMP%]   .message-item[_ngcontent-%COMP%]:hover{background-color:#f1f1f1;color:var(--text)}.messages[_ngcontent-%COMP%]   .message-list[_ngcontent-%COMP%]   .message-item[_ngcontent-%COMP%]:hover   .message[_ngcontent-%COMP%]{white-space:normal;text-overflow:clip}.messages[_ngcontent-%COMP%]   .message-list[_ngcontent-%COMP%]   .message-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.messages[_ngcontent-%COMP%]   .message-list[_ngcontent-%COMP%]   .message-item[_ngcontent-%COMP%]   p.name[_ngcontent-%COMP%]{font-size:.9rem}.messages[_ngcontent-%COMP%]   .message-list[_ngcontent-%COMP%]   .message-item[_ngcontent-%COMP%]   p.email[_ngcontent-%COMP%]{font-weight:600;font-size:1.1rem}.messages[_ngcontent-%COMP%]   .message-list[_ngcontent-%COMP%]   .message-item[_ngcontent-%COMP%]   p.phone[_ngcontent-%COMP%], .messages[_ngcontent-%COMP%]   .message-list[_ngcontent-%COMP%]   .message-item[_ngcontent-%COMP%]   p.message[_ngcontent-%COMP%]{font-size:.9rem}.messages[_ngcontent-%COMP%]   .message-list[_ngcontent-%COMP%]   .message-item[_ngcontent-%COMP%]   .delete[_ngcontent-%COMP%]{position:absolute;top:5px;inset-inline-end:5px;border:none;border-radius:50%;padding:5px;cursor:pointer;transition:background-color .3s}.messages[_ngcontent-%COMP%]   .message-list[_ngcontent-%COMP%]   .message-item[_ngcontent-%COMP%]   .delete[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:var(--error)}.messages[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin:auto;max-width:600px;width:100%}.messages[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 20px;border:none;border-radius:4px;background-color:#f1f1f1;color:#fff;cursor:pointer;transition:background-color .3s}.messages[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{cursor:not-allowed}.messages[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover:not(:disabled){background-color:var(--primary)}.messages[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:16px}"]})};var x=class g{static \u0275fac=function(e){return new(e||g)};static \u0275cmp=M({type:g,selectors:[["app-skills-management"]],standalone:!0,features:[C],decls:2,vars:0,template:function(e,n){e&1&&(i(0,"p"),o(1,"skills-management works!"),a())}})};var E=()=>({exact:!0}),b=class g{static \u0275fac=function(e){return new(e||g)};static \u0275cmp=M({type:g,selectors:[["app-admin"]],standalone:!0,features:[C],decls:12,vars:15,consts:[[1,"admin"],[1,"admin-nav"],["routerLink","/admin/projects","routerLinkActive","active",1,"nav-item",3,"routerLinkActiveOptions"],["routerLink","/admin/skills","routerLinkActive","active",1,"nav-item",3,"routerLinkActiveOptions"],["routerLink","/admin","routerLinkActive","active",1,"nav-item",3,"routerLinkActiveOptions"]],template:function(e,n){e&1&&(i(0,"section",0)(1,"div",1)(2,"p",2),o(3),l(4,"translate"),a(),i(5,"p",3),o(6),l(7,"translate"),a(),i(8,"p",4),o(9),l(10,"translate"),a()(),_(11,"router-outlet"),a()),e&2&&(s(2),p("routerLinkActiveOptions",f(12,E)),s(),h(" ",m(4,6,"projects")," "),s(2),p("routerLinkActiveOptions",f(13,E)),s(),h(" ",m(7,8,"skills")," "),s(2),p("routerLinkActiveOptions",f(14,E)),s(),h(" ",m(10,10,"messages")," "))},dependencies:[O,j,R,W],styles:['.admin[_ngcontent-%COMP%]{display:flex;flex-flow:column nowrap;align-items:center;justify-content:center;padding-inline:1rem}.admin[_ngcontent-%COMP%]   .admin-nav[_ngcontent-%COMP%]{margin-bottom:1rem;display:flex;flex-flow:row nowrap;justify-content:center;align-items:center;gap:1.5rem;width:100%;padding-block:1rem}.admin[_ngcontent-%COMP%]   .admin-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{padding-inline:.5rem;text-transform:uppercase;font-size:1.1rem;cursor:pointer}.admin[_ngcontent-%COMP%]   .admin-nav[_ngcontent-%COMP%]   .nav-item.active[_ngcontent-%COMP%]{color:var(--primary);position:relative}.admin[_ngcontent-%COMP%]   .admin-nav[_ngcontent-%COMP%]   .nav-item.active[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;left:0;right:0;width:80%;margin:auto;height:2px;background-color:var(--primary);margin-top:.1rem}@media (min-width: 400px){.admin[_ngcontent-%COMP%]{padding-inline:2rem}}@media (min-width: 830px){.admin[_ngcontent-%COMP%]{padding-inline:4rem}}']})};var he=[{path:"",component:b,children:[{path:"",component:v},{path:"projects",loadChildren:()=>import("./chunk-Z64SYFUI.js").then(g=>g.projectsManagementRoutes)},{path:"skills",component:x}]},{path:"**",redirectTo:"",pathMatch:"full"}];export{he as adminRoutes};
