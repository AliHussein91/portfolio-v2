import{c as b}from"./chunk-XAHKM5NF.js";import{a as P}from"./chunk-UPFBTAVO.js";import{i as h,j as s,k as O,l as x,n as v,o as w,p as y,v as S,x as N}from"./chunk-WDQRD4KS.js";import"./chunk-G7EGHA34.js";import{La as d,Ra as o,Sa as n,Ta as g,V as c,X as f,Xa as C,ab as r,bb as p,cb as _,ib as M,kb as a,lb as l,ya as t}from"./chunk-EK42WQS7.js";var F=class u{authService=c(P);fb=c(S);loading=!1;form;constructor(){this.form=this.fb.nonNullable.group({email:["",s.required],password:["",[s.required,s.minLength(8)]]})}onSubmit(){this.loading=!0;let m=this.form.getRawValue();this.authService.login(m).subscribe({next:e=>{this.authService.adminLoggedIn.set(!0),localStorage.setItem("token",e.token),this.authService.redirectToAdmin()},error:e=>{console.error(e)},complete:()=>{this.loading=!1}})}static \u0275fac=function(e){return new(e||u)};static \u0275cmp=f({type:u,selectors:[["app-login"]],standalone:!0,features:[M],decls:15,vars:11,consts:[[1,"login"],[3,"ngSubmit","formGroup"],["for","email"],["type","text","id","email","formControlName","email"],["for","password"],["type","password","id","password","formControlName","password"],["type","submit",3,"disabled"]],template:function(e,i){e&1&&(o(0,"section",0)(1,"form",1),C("ngSubmit",function(){return i.onSubmit()}),o(2,"fieldset")(3,"label",2),r(4),a(5,"translate"),n(),g(6,"input",3),n(),o(7,"fieldset")(8,"label",4),r(9),a(10,"translate"),n(),g(11,"input",5),n(),o(12,"button",6),r(13),a(14,"translate"),n()()()),e&2&&(t(),d("formGroup",i.form),t(3),p(l(5,5,"email")),t(5),p(l(10,7,"password")),t(3),d("disabled",!i.form.valid||i.loading),t(),_(" ",l(14,9,"login")," "))},dependencies:[b,N,v,h,O,x,w,y],styles:["[_nghost-%COMP%]{flex-grow:1;display:flex;flex-direction:column nowrap;justify-content:center;align-items:center;width:100%}.login[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding-inline:1rem;padding-block:3rem;width:100%}.login[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-flow:column nowrap;justify-content:center;align-items:end;max-width:400px;width:100%;gap:2rem}.login[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   fieldset[_ngcontent-%COMP%]{display:flex;flex-flow:column nowrap;justify-content:center;align-items:start;width:100%;gap:1rem}.login[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   fieldset[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:500;font-size:1.2rem;color:--text;text-transform:capitalize}.login[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   fieldset[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;height:40px;border-radius:10px;padding-inline:1rem;border:1px solid var(--grey);transition:all .2s ease-in-out}.login[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   fieldset[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary);transition:all .2s ease-in-out}.login[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   fieldset[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:hover{border-color:var(--text-light);transition:all .2s ease-in-out}.login[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:var(--primary);padding-inline:1rem;padding-block:.5rem;border-radius:10px;text-transform:capitalize;align-self:flex-end;font-weight:500;outline:transparent;transition:all .2s ease-in-out}.login[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:var(--white);outline:1px solid var(--primary);transition:all .2s ease-in-out}.login[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{background-color:var(--text-light);color:var(--white);cursor:not-allowed}"]})};export{F as LoginComponent};
