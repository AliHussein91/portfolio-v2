<div class="messages">
  <div class="search-sort-bar">
    <input
      type="text"
      placeholder="Search message..."
      [(ngModel)]="searchQuery"
      (input)="onSearch()"
    />
    <div class="sort">
        <p>Sort By</p>
        <select [(ngModel)]="sortCriteria" (change)="onSort()">
          <option value="name">{{'Name' | translate}}</option>
          <option value="email">{{'Email' | translate}}</option>
          <option value="phone">{{'Phone' | translate}}</option>
        </select>
    </div>
  </div>
  <div class="message-list">
      @for(message of messages; track $index){
          <div >
            <div
              class="message-item"
              ngClass="message.read ? 'read' : 'unread'"
              (click)="onMessageClick(message)"
            >
              <p><strong>Name:</strong> {{ message.name }}</p>
              <p><strong>Email:</strong> {{ message.email }}</p>
              <p><strong>Phone:</strong> {{ message.phone }}</p>
              <p><strong>Message:</strong> {{ message.message }}</p>
            </div>
          </div>
      }
  </div>

  <div class="pagination-controls">
    <button (click)="previousPage()" [disabled]="currentPage === 1">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="20"
        height="20"
        viewBox="0 0 20 20"
      >
        <path fill="#25282B" d="m4 10l9 9l1.4-1.5L7 10l7.4-7.5L13 1z" />
      </svg>
    </button>
    <span>{{'Page'| translate}} {{ currentPage }} {{'of' | translate}} {{ totalPages }}</span>
    <button (click)="nextPage()" [disabled]="currentPage === totalPages">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="20"
        height="20"
        viewBox="0 0 20 20"
      >
        <path fill="#25282B" d="M7 1L5.6 2.5L13 10l-7.4 7.5L7 19l9-9z" />
      </svg>
    </button>
  </div>
</div>
